<html>
	<head>
		<meta charset="utf-8">
		<title>信息注册</title>
		  <style>
            body {
            background-size:100%;
            }
        </style>
		<style type="text/css">
		   .td_left{
            width:100px;
            text-align: left;
            height:40px;
        }
            .td_right{
          padding-right: 150px;
          }
			#error1{
				font-size: 8px;
			}
			#error2{
				font-size: 8px;
			}
			#error3{
				font-size: 8px;
			}
			#error4{
				font-size: 8px;
			}
			#error5{
				font-size: 8px;
			}
			#error6{
				font-size: 8px;
			}
			#start{
				background-color: LightBlue;
				height: 30px;
				width: 60px;
				border-radius: 15px;
			}
			#reset{
				background-color: LightBlue;
				height: 30px;
				width: 60px;
				border-radius: 15px;
			}
			table{
				position: absolute;
				border: 300px;
				left:40%;
				top: 30%;
			}

			#user_reg{
			font-family: 微软雅黑;
			font-size: 40px;
			text-align: center;
			margin-top: 100px;
		}
       .reg_right {
          /*设置右边段落浮动和外间距*/
          float: right;
          margin: 300px;
       }
		</style>
	</head>
	<body background="images/sub_main_left_bottom_bg.gif">
		<script type="text/javascript">
			window.onload=function(){
				//用户名
				var usernameElt=document.getElementById("username");
				//错误信息1
				var error1=document.getElementById("error1");
				usernameElt.onblur=function(){
					var username=usernameElt.value;
					username=username.trim();
					var usernameRegExp=/[0-9]+[a-zA-Z]+[0-9a-zA-Z]*|[a-zA-Z]+[0-9]+[0-9a-zA-Z]*/;
					var ok=usernameRegExp.test(username);
					if(username==""){
						error1.innerText="用户名不能为空!";
					}else if(username.length<6||username.length>12){
						error1.innerText="用户名长度应该在6-12之间!";
					}else if(!ok){
						error1.innerText="用户名必须是字母和数字的组合!";
					}else {
						error1.innerText="";
					}
				}
				usernameElt.onfocus=function(){
					//如果有错误，将用户名清空
					if(error1.innerText!=""){
						usernameElt.value="";
					}
					error1.innerText="";
				}

                //错误信息6
				var userpwd1Elt=document.getElementById("userpwd1");
                //密码
				var error6=document.getElementById("error6");
				userpwd1Elt.onblur=function(){
					var userpwd1=userpwd1Elt.value;
					var userpwd1RegExp=/^[a-zA-Z]\w{5,15}/;
					var ok=userpwd1RegExp.test(userpwd1);
					if(userpwd1==""){
						error6.innerText="密码不能为空!";
					}else if(userpwd1.length<8){
						error6.innerText="密码长度应该大于8位!";
					}else {
						error6.innerText="";
					}
				}
				userpwd1Elt.onfocus=function(){
					//如果有错误，将用户名清空
					if(error6.innerText!=""){
						userpwd1Elt.value="";
					}
					error6.innerText="";
				}

				//错误信息2
				var error2=document.getElementById("error2");
				//密码
				var userpwd1Elt=document.getElementById("userpwd1");
				var userpwd2Elt=document.getElementById("userpwd2");
				userpwd2Elt.onblur=function(){
					var p1=userpwd1Elt.value;
					var p2=userpwd2Elt.value;
					if(p2!=p1){
						error2.innerText="密码不一致!";
					}else{
						error2.innerText="";
					}
				}
				userpwd2Elt.onfocus=function(){
					if(error2.innerText!=""){
						userpwd2Elt.value="";
					}
					error2.innerText="";
				}

				//错误信息3
				var error3=document.getElementById("error3");
				//邮箱
				var emailElt=document.getElementById("email");
				emailElt.onblur=function(){
					var emailRegExp=/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+(-.\w+)*$/;
					var ok=emailRegExp.test(emailElt.value);
					if(ok){
						error3.innerText="";
					}else{
						error3.innerText="邮箱格式错误!";
					}
				}
				emailElt.onfocus=function(){
					//如果有错误，将用户名清空
					if(error3.innerText!=""){
						emailElt.value="";
					}
					error3.innerText="";
				}

				//错误信息4
				var error4=document.getElementById("error4");
				//年龄
				var ageElt=document.getElementById("age");
				ageElt.onblur=function(){
				var age=ageElt.value;
				var ageRegExp=/^[A-Za-z0-9]{6,10}$/;
				var ok=ageRegExp.test(age);
				if(age==""){
						error4.innerText="年龄不能为空!";
					}else if(age<17){
						error4.innerText="年龄应该大于17";}
						else{error4.innerText="";}
						}
                ageElt.onfocus=function(){
					if(error4.innerText!=""){
						ageElt.value="";
					}
					error4.innerText="";
				}

				//错误信息5
				var error5=document.getElementById("error5");
				//体重
				var weightElt=document.getElementById("weight");
				weightElt.onblur=function(){
				var weight=weightElt.value;
				var weightRegExp=/^[123456789]^$/;
				var ok=weightRegExp.test(weight);
				if(weight==""){
						error5.innerText="体重不能为空!";
					}else if(weight>150||weight<30){
						error5.innerText="体重应该位于30到150内";}
						else{error5.innerText="";}
						}
                weightElt.onfocus=function(){
					if(error5.innerText!=""){
						weightElt.value="";
					}
					error5.innerText="";
				}


				//注册按钮
				document.getElementById("start").onclick=function(){
					//先触发blur
					usernameElt.focus();
					username.blur();

					userpwd2Elt.focus();
					userpwd2Elt.blur();

					emailElt.focus();
					emailElt.blur();

					ageElt.focus();
					ageElt.blur();

					weightElt.focus();
					weightElt.blur();

					userpwd1Elt.focus();
					userpwd1Elt.blur();
					//再判断
					if(error1.innerText==""
					&&error2.innerText==""
					&&error3.innerText==""
					&&error4.innerText==""
					&&error5.innerText==""
					&&error6.innerText==""){
						alert("注册成功!");
						//获取表单对象，并提交
						document.getElementById("userform").submit();
					}else{
						alert("请输入正确信息!");
					}
				}
			}
		</script>
            <div id="user_reg">用户注册:</div>
		<form action="#" method="post">
			<table>
				<tr>
					<td class="td_left">姓名：</td>
					<th class="td_right"><input type="text" id="username" name="username" /></th>
					<th><span id="error1" style="color: red;" /></th>
				</tr>
				<tr>
					<th class="td_left">年龄：</th>
					<th class="td_right"><input type="text" id="age" name="age" /></th>
					<th><span id="error4" style="color: red;" /></th>
				</tr>
                <tr>
					<th class="td_left">体重：</th>
					<th class="td_right"><input type="text" id="weight" name="weight" /></th>
					<th><span id="error5" style="color: red;" /></th>
				</tr>
				<tr>
					<th class="td_left">密码：</th>
					<th class="td_right"><input type="password" id="userpwd1" name="userpwd1"/></th>
					<th><span id="error6" style="color: red;" /></th>
				</tr>
				<tr>
					<th class="td_left">重复密码：</th>
					<th class="td_right"><input type="password" id="userpwd2" name="pwd" /></th>
					<th><span id="error2" style="color: red;" /></th>
				</tr>
				<tr>
					<th class="td_left">邮箱地址：</th>
					<th class="td_right"><input type="text" id="email" name="email" /></th>
					<th><span id="error3" style="color: red;" /></th>
				</tr>
				<tr>
					<th><input type="button" value="注册" id="start" /></th>
					<th><input type="reset" value="重置" id="reset" /></th>
				</tr>
			</table>
		</form>
	   <div class="reg_right">
        <p>已有账号?<a href="login.html">立即登录</a></p>
    </div>
	</body>
</html>
